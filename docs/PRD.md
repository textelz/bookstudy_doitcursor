# 커피 주문 앱

## 1. 프로젝트 개요

### 1.1 프로젝트명
커피 주문 앱

### 1.2 프로젝트 목적
사용자가 커피 메뉴를 주문하고, 관리자가 주문을 관리할 수 있는 간단한 풀스택 웹 앱

### 1.3 개발 범위
- 주문하기 화면(메뉴 선택 및 장바구니 기능)
- 관리자 화면(재고 관리 및 주문 상태 관리)
- 데이터를 생성/조회/수정/삭제할 수 있는 기능

## 2. 기술 스택
- 프런트엔드: HTML, CSS, 리액트, 자바스크립트
- 백엔드: Node.js, Express
- 데이터베이스: PostgresSQL

## 3. 기본 사항
- 프런트엔드와 백엔드를 따로 개발
- 기본적인 웹 기술만 사용
- 학습 목적이므로 사용자 인증이나 결제 기능은 제외
- 메뉴는 커피 메뉴만 있음

## 4. 주문하기 화면

### 4.1 화면 개요
사용자가 커피 메뉴를 선택하고 옵션을 추가하여 장바구니에 담고, 최종 주문을 진행할 수 있는 화면입니다.

### 4.2 화면 구성

#### 4.2.1 상단 헤더
- **브랜드 로고/이름**: 왼쪽 상단에 "COZY" 표시
- **네비게이션 버튼**: 오른쪽 상단에 두 개의 버튼
  - "주문하기" 버튼: 현재 화면 표시 (활성 상태)
  - "관리자" 버튼: 관리자 화면으로 이동

#### 4.2.2 상품 목록 영역
상품 카드들이 가로로 나열되어 표시됩니다. 각 상품 카드는 다음 요소를 포함합니다:

- **상품 이미지**: 상품 사진이 표시되는 영역
- **상품명**: 상품의 이름 (예: "아메리카노(ICE)", "아메리카노(HOT)", "카페라떼")
- **가격**: 상품의 기본 가격 (예: "4,000원", "5,000원")
- **상품 설명**: 상품에 대한 간단한 설명 텍스트
- **옵션 선택**:
  - "샷 추가 (+500원)": 체크박스 형태, 선택 시 500원 추가
  - "시럽 추가 (+0원)": 체크박스 형태, 무료 옵션
- **담기 버튼**: 선택한 상품과 옵션을 장바구니에 추가하는 버튼

#### 4.2.3 장바구니 영역 (하단)
- **섹션 제목**: "장바구니" 텍스트
- **담긴 상품 목록**: 
  - 각 상품은 다음 정보를 표시:
    - 상품명과 선택된 옵션 (예: "아메리카노(ICE) (샷 추가)")
    - 수량 (예: "X 1", "X 2")
    - 개별 가격 (옵션 포함)
- **총 금액**: 장바구니에 담긴 모든 상품의 합계 금액을 굵은 글씨로 표시 (예: "총 금액 12,500원")
- **주문하기 버튼**: 최종 주문을 진행하는 버튼

### 4.3 기능 요구사항

#### 4.3.1 상품 목록 표시
- 서버에서 상품 목록을 조회하여 화면에 표시
- 각 상품의 이미지, 이름, 가격, 설명 정보를 표시
- 상품이 많을 경우 스크롤 가능하도록 구현

#### 4.3.2 옵션 선택
- 각 상품마다 독립적으로 옵션 선택 가능
- 옵션은 체크박스 형태로 구현
- 옵션 선택 시 추가 가격이 표시됨
- 옵션 선택 상태는 "담기" 버튼 클릭 전까지 유지

#### 4.3.3 장바구니 기능
- "담기" 버튼 클릭 시:
  - 선택한 상품과 옵션이 장바구니에 추가됨
  - 동일한 상품과 옵션 조합이 이미 장바구니에 있으면 수량이 증가
  - 장바구니에 추가된 상품은 하단 장바구니 영역에 표시
- 장바구니에 담긴 상품 정보:
  - 상품명
  - 선택된 옵션 (있는 경우)
  - 수량
  - 개별 가격 (기본 가격 + 옵션 추가 가격)
- 총 금액 자동 계산 및 표시
- 장바구니에 상품이 없을 경우 적절한 안내 메시지 표시

#### 4.3.4 주문하기 기능
- "주문하기" 버튼 클릭 시:
  - 장바구니에 담긴 상품 정보를 서버로 전송
  - 주문이 성공적으로 접수되면 적절한 피드백 제공
  - 주문 완료 후 장바구니 초기화 또는 주문 확인 화면으로 이동

#### 4.3.5 네비게이션
- "관리자" 버튼 클릭 시 관리자 화면으로 이동
- "주문하기" 버튼은 현재 화면이 주문하기 화면일 때 활성 상태로 표시

### 4.4 UI/UX 요구사항

#### 4.4.1 레이아웃
- 반응형 디자인 고려 (모바일, 태블릿, 데스크톱)
- 상단 헤더는 고정되어 스크롤 시에도 항상 보이도록 구현
- 상품 목록은 가로 스크롤 또는 그리드 레이아웃으로 구현
- 장바구니 영역은 하단에 고정 또는 스크롤 가능하도록 구현

#### 4.4.2 시각적 피드백
- 버튼 호버 시 시각적 피드백 제공
- "담기" 버튼 클릭 시 성공 피드백 (예: 토스트 메시지)
- 옵션 선택 시 즉각적인 시각적 반영
- 장바구니에 상품이 추가될 때 애니메이션 효과 (선택 사항)

#### 4.4.3 사용성
- 상품 카드의 정보가 명확하게 구분되어 보이도록 구현
- 옵션 선택 영역이 직관적으로 표시
- 장바구니의 상품 정보가 읽기 쉽게 표시
- 총 금액이 눈에 잘 띄도록 강조 표시

### 4.5 데이터 구조

#### 4.5.1 상품 데이터
```javascript
{
  id: number,
  name: string,
  price: number,
  description: string,
  imageUrl: string,
  options: [
    {
      id: number,
      name: string,
      price: number
    }
  ]
}
```

#### 4.5.2 장바구니 아이템 데이터
```javascript
{
  productId: number,
  productName: string,
  basePrice: number,
  selectedOptions: [
    {
      optionId: number,
      optionName: string,
      optionPrice: number
    }
  ],
  quantity: number,
  totalPrice: number
}
```

### 4.6 예외 처리
- 상품 목록 조회 실패 시 에러 메시지 표시
- 장바구니에 상품 추가 실패 시 에러 메시지 표시
- 주문하기 실패 시 에러 메시지 표시 및 장바구니 유지
- 네트워크 오류 시 적절한 안내 메시지 표시

## 5. 관리자 화면

### 5.1 화면 개요
관리자가 주문 현황을 확인하고 관리하며, 상품 재고를 조회 및 수정할 수 있는 화면입니다.

### 5.2 화면 구성

#### 5.2.1 상단 헤더
- **브랜드 로고/이름**: 왼쪽 상단에 "COZY" 표시
- **네비게이션 버튼**: 오른쪽 상단에 두 개의 버튼
  - "주문하기" 버튼: 주문하기 화면으로 이동
  - "관리자" 버튼: 현재 화면 표시 (활성 상태)

#### 5.2.2 관리자 대시보드 영역
주문 통계를 한눈에 볼 수 있는 요약 정보를 표시합니다:

- **섹션 제목**: "관리자 대시보드" 텍스트
- **주문 통계**: 다음 정보를 표시
  - 총 주문: 전체 주문 건수
  - 주문 접수: 접수된 주문 건수
  - 제조 중: 현재 제조 중인 주문 건수
  - 제조 완료: 제조가 완료된 주문 건수
  - 형식: "총 주문 X / 주문 접수 Y / 제조 중 Z / 제조 완료 W"

#### 5.2.3 재고 현황 영역
각 상품의 현재 재고 수량을 확인하고 수정할 수 있는 영역입니다:

- **섹션 제목**: "재고 현황" 텍스트
- **상품 카드**: 각 상품별로 카드 형태로 표시
  - **상품명**: 상품의 이름 (예: "아메리카노 (ICE)", "아메리카노 (HOT)", "카페라떼")
  - **재고 수량**: 현재 재고 수량 (예: "10개")
  - **재고 조정 버튼**:
    - "+" 버튼: 재고 수량 증가
    - "-" 버튼: 재고 수량 감소

#### 5.2.4 주문 현황 영역
접수된 주문 목록을 확인하고 주문 상태를 관리할 수 있는 영역입니다:

- **섹션 제목**: "주문 현황" 텍스트
- **주문 목록**: 각 주문은 다음 정보를 표시
  - **주문 시간**: 주문이 접수된 날짜와 시간 (예: "7월 31일 13:00")
  - **주문 상품**: 주문된 상품명과 수량 (예: "아메리카노(ICE) x 1")
  - **주문 금액**: 해당 주문의 총 금액 (예: "4,000원")
  - **주문 접수 버튼**: 주문을 접수 처리하는 버튼 (주문 상태에 따라 다른 버튼이 표시될 수 있음)

### 5.3 기능 요구사항

#### 5.3.1 관리자 대시보드
- 서버에서 주문 통계 데이터를 조회하여 실시간으로 표시
- 주문 상태별 건수를 자동으로 계산하여 표시
- 주문 상태가 변경되면 대시보드 통계가 자동으로 업데이트

#### 5.3.2 재고 관리
- 서버에서 각 상품의 현재 재고 수량을 조회하여 표시
- "+" 버튼 클릭 시:
  - 해당 상품의 재고 수량이 1 증가
  - 변경된 재고 수량을 서버에 저장
  - 화면에 즉시 반영
- "-" 버튼 클릭 시:
  - 해당 상품의 재고 수량이 1 감소 (단, 0 이하로는 감소하지 않음)
  - 변경된 재고 수량을 서버에 저장
  - 화면에 즉시 반영
- 재고 수량 변경 시 성공/실패 피드백 제공

#### 5.3.3 주문 현황 관리
- 서버에서 주문 목록을 조회하여 표시
- 주문 목록은 최신 주문이 위에 오도록 정렬
- 각 주문의 상세 정보 표시:
  - 주문 시간
  - 주문된 상품 목록 (상품명, 수량, 옵션)
  - 주문 총 금액
- "주문 접수" 버튼 클릭 시:
  - 해당 주문의 상태를 "주문 접수"로 변경
  - 주문 상태 변경을 서버에 저장
  - 관리자 대시보드의 통계가 자동으로 업데이트
  - 주문 목록에서 해당 주문의 상태가 변경됨
- 주문 상태에 따라 다른 액션 버튼 표시 (예: "제조 시작", "제조 완료" 등)

#### 5.3.4 네비게이션
- "주문하기" 버튼 클릭 시 주문하기 화면으로 이동
- "관리자" 버튼은 현재 화면이 관리자 화면일 때 활성 상태로 표시

### 5.4 UI/UX 요구사항

#### 5.4.1 레이아웃
- 반응형 디자인 고려 (모바일, 태블릿, 데스크톱)
- 상단 헤더는 고정되어 스크롤 시에도 항상 보이도록 구현
- 각 섹션은 세로로 나열되어 표시
- 재고 현황의 상품 카드는 가로로 나열
- 주문 현황은 스크롤 가능한 리스트 형태로 구현

#### 5.4.2 시각적 피드백
- 버튼 호버 시 시각적 피드백 제공
- 재고 수량 변경 시 즉각적인 화면 업데이트
- 주문 접수 버튼 클릭 시 성공 피드백 (예: 토스트 메시지)
- 주문 상태에 따라 다른 색상으로 구분 표시 (선택 사항)
- 재고 수량이 낮을 경우 경고 표시 (선택 사항)

#### 5.4.3 사용성
- 관리자 대시보드의 통계가 한눈에 보이도록 명확하게 표시
- 재고 조정 버튼이 직관적으로 표시
- 주문 목록의 정보가 읽기 쉽게 구조화되어 표시
- 주문이 많을 경우 스크롤하여 모든 주문을 확인할 수 있도록 구현

### 5.5 데이터 구조

#### 5.5.1 주문 통계 데이터
```javascript
{
  totalOrders: number,
  receivedOrders: number,
  inProgressOrders: number,
  completedOrders: number
}
```

#### 5.5.2 재고 데이터
```javascript
{
  productId: number,
  productName: string,
  stock: number
}
```

#### 5.5.3 주문 데이터
```javascript
{
  orderId: number,
  orderTime: string, // ISO 8601 형식 또는 타임스탬프
  items: [
    {
      productId: number,
      productName: string,
      quantity: number,
      selectedOptions: [
        {
          optionId: number,
          optionName: string,
          optionPrice: number
        }
      ],
      itemPrice: number
    }
  ],
  totalPrice: number,
  status: string // "pending", "received", "in_progress", "completed"
}
```

### 5.6 예외 처리
- 주문 통계 조회 실패 시 에러 메시지 표시
- 재고 수량 조회 실패 시 에러 메시지 표시
- 재고 수량 변경 실패 시 에러 메시지 표시 및 원래 수량으로 복구
- 주문 목록 조회 실패 시 에러 메시지 표시
- 주문 접수 실패 시 에러 메시지 표시 및 주문 상태 유지
- 네트워크 오류 시 적절한 안내 메시지 표시
- 재고 수량이 0 이하로 내려가지 않도록 유효성 검사
